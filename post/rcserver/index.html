<!doctype html><html lang=en-us data-theme-mode=auto><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><title>RC 网络仓库服务器 | Bertsin
</title><meta name=description content="ROBOCON的对内服务器使用指南。"><script>window.siteConfig=JSON.parse('{"anchor_icon":null,"clipboard":{"copyright":{"content":"本文版权：本博客所有文章除特别声明外，均采用 BY-NC-SA 许可协议。转载请注明出处！","count":50,"enable":false},"fail":"复制失败 (ﾟ⊿ﾟ)ﾂ","success":"复制成功(*^▽^*)"},"code_block":{"expand":true},"icon_font":"4552607_tq6stt6tcg","outdate":{"daysago":180,"enable":false,"message":"本文最后更新于 {time}，请注意文中内容可能已经发生变化。"}}')</script><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=preload as=style href="https://fonts.googleapis.com/css?family=Mulish:400,400italic,700,700italic%7cNoto%20Serif%20SC:400,400italic,700,700italic%7c&amp;display=swap"><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Mulish:400,400italic,700,700italic%7cNoto%20Serif%20SC:400,400italic,700,700italic%7c&amp;display=swap" media=print onload='this.media="all"'><link rel=preload href=//at.alicdn.com/t/c/font_4552607_tq6stt6tcg.woff2 as=font type=font/woff2 crossorigin=anonymous><link rel=stylesheet href=/css/loader.min.2ad0e9bbffb534e893c0ecefc44787a277cf851387e8ad9dccfbc3a5f0886dbe.css><meta property="og:type" content="website"><meta property="og:title" content="RC 网络仓库服务器 | Bertsin"><meta property="og:description" content="ROBOCON的对内服务器使用指南。"><meta property="og:url" content="https://user-xixiboliya.github.io/post/rcserver/"><meta property="og:site_name" content="Welcome to Bertsin Homepage!"><meta property="og:image" content="/"><meta property="article:author" content="Bertsin"><meta property="article:published_time" content="2025-05-25T15:00:00-07:18"><meta property="article:modified_time" content="2025-05-25T16:00:00-07:23"><meta name=twitter:card content="summary"><meta name=twitter:image content="/"><link rel="shortcut icon" href=/favicon.ico><link rel=stylesheet href=/css/main.min.a23591d00af1734c216ea77b270e5fab60a4f92b6498af06e6b0dde48f7c49c0.css><link rel=preload as=style href=https://npm.webcache.cn/photoswipe@5.4.4/dist/photoswipe.css onload='this.onload=null,this.rel="stylesheet"'><link rel=preload as=style href=https://npm.webcache.cn/katex@0.16.9/dist/katex.min.css onload='this.onload=null,this.rel="stylesheet"'><script src=https://npm.webcache.cn/pace-js@1.2.4/pace.min.js integrity=sha384-k6YtvFUEIuEFBdrLKJ3YAUbBki333tj1CSUisai5Cswsg9wcLNaPzsTHDswp4Az8 crossorigin=anonymous></script><link rel=stylesheet href=https://npm.webcache.cn/@reimujs/aos@0.1.0/dist/aos.css></head><body><div id=loader><div class="loading-left-bg loading-bg"></div><div class="loading-right-bg loading-bg"></div><div class=spinner-box><div class=loading-taichi><svg width="150" height="150" viewBox="0 0 1024 1024" class="icon" shape-rendering="geometricPrecision"><path d="M303.5 432a80 80 0 01-12 160 80 80 0 0112-160z" fill="#ff5252"/><path d="M512 65a447 447 0 010 894V929a417 417 0 000-834 417 417 0 000 834v30a447 447 0 010-894zm0 30A417 417 0 01929 512 208.5 208.5.0 01720.5 720.5V592a80 80 0 000-160 80 80 0 000 160V720.5A208.5 208.5.0 01512 512 208.5 208.5.0 00303.5 303.5 208.5 208.5.0 0095 512 417 417 0 01512 95z" fill="#ff5252"/></svg></div><div class=loading-word>少女祈祷中...</div></div></div></div><script>var time=null,startLoading=()=>{time=Date.now(),document.getElementById("loader").classList.remove("loading")},endLoading=()=>{time?Date.now()-time>500?(time=null,document.body.style.overflow="auto",document.getElementById("loader").classList.add("loading")):(setTimeout(endLoading,500-(Date.now()-time)),time=null):(document.body.style.overflow="auto",document.getElementById("loader").classList.add("loading"))};window.addEventListener("DOMContentLoaded",endLoading),document.getElementById("loader").addEventListener("click",endLoading)</script><div id=copy-tooltip style="pointer-events:none;opacity:0;transition:all .2s ease;position:fixed;top:50%;left:50%;z-index:999;transform:translate(-50%,-50%);color:#fff;background:rgba(0,0,0,.5);padding:10px 15px;border-radius:10px"></div><div id=container><div id=wrap><div id=header-nav><nav id=main-nav><span class=main-nav-link-wrap><div class='main-nav-icon icon rotate'>&#xe62b;</div><a class=main-nav-link href=/>Home</a>
</span><span class=main-nav-link-wrap><div class='main-nav-icon icon'>&#xe633;</div><a class=main-nav-link href=/archives>Archives</a>
</span><span class=main-nav-link-wrap><div class='main-nav-icon icon'>&#xe63d;</div><a class=main-nav-link href=/about>About</a>
</span><span class=main-nav-link-wrap><div class='main-nav-icon icon'>&#xe639;</div><a class=main-nav-link href=/friend>Friend</a>
</span><a id=main-nav-toggle class=nav-icon></a></nav><nav id=sub-nav><a id=nav-search-btn class="nav-icon popup-trigger" title=Search></a></nav></div><header id=header><picture></picture>
<img fetchpriority=high src=/images/liyue-default.png alt="RC 网络仓库服务器"><div id=header-outer><div id=header-title><a href=/ id=logo><h1 data-aos=slide-up>RC 网络仓库服务器</h1></a><h2 id=subtitle-wrap data-aos=slide-down></h2></div></div></header><div id=content class=sidebar-right><aside id=sidebar><div class="sidebar-wrapper wrap-sticky"><div class=sidebar-wrap data-aos=fade-up><div class=sidebar-toc-sidebar><div class=sidebar-toc><h3 class=toc-title>Contents</h3><div class="sidebar-toc-wrapper toc-div-class"><nav id=TableOfContents><ul><li><a href=#intro-服务是什么>Intro 服务是什么</a></li><li><a href=#aim-部署目的>Aim 部署目的</a></li><li><a href=#description-详细介绍>Description 详细介绍</a><ul><li><a href=#ssh-登录>ssh 登录</a></li><li><a href=#git-service>git-service</a></li><li><a href=#doc-service>doc-service</a></li><li><a href=#file-service>file-service</a></li><li><a href=#模块联动>模块联动</a></li><li><a href=#nginx-其他配置>nginx 其他配置</a></li></ul></li></ul></nav></div></div></div><div class="sidebar-common-sidebar hidden"><div class=sidebar-author><img data-src=/avatar/avatar.webp data-sizes=auto alt=Bertsin class=lazyload><div class=sidebar-author-name>Bertsin</div><div class=sidebar-description>祈祷中...</div></div><div class=sidebar-state><div class=sidebar-state-article><div>Posts</div><div class=sidebar-state-number>23</div></div><div class=sidebar-state-category><div>Categories</div><div class=sidebar-state-number>7</div></div><div class=sidebar-state-tag><div>Tags</div><div class=sidebar-state-number>1</div></div></div><div class=sidebar-social><div class="icon-bilibili sidebar-social-icon"><a href="https://space.bilibili.com/651491932?spm_id_from=333.1007.0.0" itemprop=url target=_blank aria-label=bilibili rel="noopener external nofollow noreferrer"></a></div><div class="icon-email sidebar-social-icon"><a href=linboxi123@163.com itemprop=url target=_blank aria-label=email rel="noopener external nofollow noreferrer"></a></div><div class="icon-github sidebar-social-icon"><a href=https://github.com/user-xixiboliya itemprop=url target=_blank aria-label=github rel="noopener external nofollow noreferrer"></a></div><div class="icon-zhihu sidebar-social-icon"><a href=https://www.zhihu.com/people/lllll-19-64-21 itemprop=url target=_blank aria-label=zhihu rel="noopener external nofollow noreferrer"></a></div></div><div class=sidebar-menu><div class=sidebar-menu-link-wrap><a class=sidebar-menu-link-dummy href=/ aria-label=Home></a><div class='sidebar-menu-icon icon rotate'>&#xe62b;</div><div class=sidebar-menu-link>Home</div></div><div class=sidebar-menu-link-wrap><a class=sidebar-menu-link-dummy href=/archives aria-label=Archives></a><div class='sidebar-menu-icon icon'>&#xe633;</div><div class=sidebar-menu-link>Archives</div></div><div class=sidebar-menu-link-wrap><a class=sidebar-menu-link-dummy href=/about aria-label=About></a><div class='sidebar-menu-icon icon'>&#xe63d;</div><div class=sidebar-menu-link>About</div></div><div class=sidebar-menu-link-wrap><a class=sidebar-menu-link-dummy href=/friend aria-label=Friend></a><div class='sidebar-menu-icon icon'>&#xe639;</div><div class=sidebar-menu-link>Friend</div></div></div></div><div class=sidebar-btn-wrapper style=position:static><div class="sidebar-toc-btn current"></div><div class=sidebar-common-btn></div></div></div></div><div class=sidebar-widget></div></aside><section id=main><article class="h-entry article" itemprop=blogPost itemscope itemtype=https://schema.org/BlogPosting><div class=article-inner data-aos=fade-up><div class=article-meta><div class=article-date><span class=article-date-link data-aos=zoom-in><time datetime="2025-05-25 15:00:00 -0718 -0718" itemprop=datePublished>2025-05-25</time>
<time style=display:none id=post-update-time>2025-05-25</time></span></div><div class=article-category><a class=article-category-link href=/categories/technology data-aos=zoom-in>TECHNOLOGY</a></div></div><div class=hr-line></div><div class="e-content article-entry" itemprop=articleBody><h1 id=rc-网络仓库服务介绍><a class=header-anchor href=#rc-%e7%bd%91%e7%bb%9c%e4%bb%93%e5%ba%93%e6%9c%8d%e5%8a%a1%e4%bb%8b%e7%bb%8d></a>RC 网络仓库服务介绍</h1><h2 id=intro-服务是什么><a class=header-anchor href=#intro-%e6%9c%8d%e5%8a%a1%e6%98%af%e4%bb%80%e4%b9%88></a>Intro 服务是什么</h2><p>本文档介绍的对象是一组部署在服务器上，用于RC视觉组共享与传承工作成果的Web服务。主要提供了私有远程git仓库服务(gogs)，文档与博客分享服务(hugo)，与文件下载服务，并最终通过 nginx (读作 Engine X) 集成到服务器的一个端口上。目前，该服务仅通过端口转发的形式，将运行在ROBOCON局域网下的服务器服务端口借由路由器（校园网域）暴露到一个校园网ip，每次路由器重启，校园网中的服务ip都会变化。</p><h2 id=aim-部署目的><a class=header-anchor href=#aim-%e9%83%a8%e7%bd%b2%e7%9b%ae%e7%9a%84></a>Aim 部署目的</h2><ul><li>私有远程git仓库服务（以下以 git-service 代称）：核心目的是用于收集视觉组各年工作项目，防止之前的方案随时间丢失。由于github，gitcode等网站的“组织”功能往往需要按时间付费，并且具有人数限制，因此采用 <a href=https://github.com/gogs/gogs/>gogs</a> 作为队内专用的git仓库。这个服务能够帮助团队协作开发（需要有git使用能力），跟踪各个组员进度。</li><li>文档与博客分享（以下以 doc-service 代称）：鼓励记录分享自己的经验，以及阅读他人的经验。采用 <a href=https://github.com/google/docsy>Docs</a> 这一仓库，其可以将简单的markdown 文档生成美观的静态网站。</li><li>文件下载服务(以下以 file-service 代称)：除了保存资源文件，还可以把配置好的系统镜像，docker镜像放在里面，这样就可以免去配置环境的烦恼。现在采用的FileBrowser是一个充满bug的程序，打算换其他的。</li></ul><h2 id=description-详细介绍><a class=header-anchor href=#description-%e8%af%a6%e7%bb%86%e4%bb%8b%e7%bb%8d></a>Description 详细介绍</h2><h3 id=ssh-登录><a class=header-anchor href=#ssh-%e7%99%bb%e5%bd%95></a>ssh 登录</h3><p><img src=image/ip.png alt></p><p>从队里华为路由器登录界面（华为路由器默认局域网ip为192.168.3.1）可以看到，通过有线方式连接的 rc-server 记录其 ip 地址，可以在连接 ROBOCON 局域网的情况下访问服务器。主用户用户名是robocon，密码是qingchun，服务均部署在git用户下，git用户无法直接通过ssh登录，需要登录后切换。ssh 端口经过路由器转发到 22 端口，为了防止枚举用户名与密码破解，通过端口转发方式访问的连接都只能通过 public-key 方式进行登录认证，而无法使用密码登录。使用robocon和git用户登录服务器均需要公钥。</p><p>另外，如果您想从校园网登上服务器，您可以在局域网条件下先查看路由器在校园网下的WAN IP，然后通过该IP登录服务器。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># 从robocon用户切换到git用户</span>
</span></span><span style=display:flex><span>su git
</span></span></code></pre></div><h3 id=git-service><a class=header-anchor href=#git-service></a>git-service</h3><p>SOURCE:</p><ul><li><a href=https://github.com/gogs/gogs/>github 仓库地址</a></li><li><a href=https://gogs.io/docs/>中文文档</a></li><li><a href=https://www.bookstack.cn/read/gogs_zh/advanced-configuration_cheat_sheet.md>custom/conf/app.ini配置文件解释</a></li><li><a href=https://blog.csdn.net/helloxiaozhe/article/details/134348522>简单CSDN安装教程</a></li><li><a href=https://blog.csdn.net/qq_36025814/article/details/122272936>详细CSDN安装教程</a></li></ul><h4 id=下载安装与首次配置><a class=header-anchor href=#%e4%b8%8b%e8%bd%bd%e5%ae%89%e8%a3%85%e4%b8%8e%e9%a6%96%e6%ac%a1%e9%85%8d%e7%bd%ae></a>下载安装与首次配置</h4><p>按照 <em>中文文档</em> 中的 <a href=https://gogs.io/docs/installation>下载安装-环境要求</a> 配置依赖后，按照 <a href=https://gogs.io/docs/installation/install_from_binary>下载安装-二进制安装/源码安装/包管理安装</a> 中的任意一种方式进行安装(推荐使用压缩包安装)，然后使用命令行运行"./gogs web"(压缩包安装)，第一次启动服务，会在<a href=http://localhost:3000/install>http://localhost:3000/install</a>上启动配置安装界面，类似如下：</p><p><img src=image/1754543311191.png alt=1754543311191></p><h4 id=修改配置文件><a class=header-anchor href=#%e4%bf%ae%e6%94%b9%e9%85%8d%e7%bd%ae%e6%96%87%e4%bb%b6></a>修改配置文件</h4><p>请参照 <a href=https://gogs.io/docs/installation/configuration_and_run>下载安装-配置与运行</a> 与 <a href=https://www.bookstack.cn/read/gogs_zh/advanced-configuration_cheat_sheet.md>配置文件中文解释</a> 修改<code>custom/conf/app.ini</code> 的部分值。</p><p>目前部署在服务器上的配置文件如下，<del>甚至密码都告诉你了</del>：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>BRAND_NAME <span style=color:#f92672>=</span> rc-Gogs
</span></span><span style=display:flex><span>RUN_USER   <span style=color:#f92672>=</span> git
</span></span><span style=display:flex><span>RUN_MODE   <span style=color:#f92672>=</span> prod
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>database<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>TYPE     <span style=color:#f92672>=</span> mysql
</span></span><span style=display:flex><span>HOST     <span style=color:#f92672>=</span> 127.0.0.1:3306
</span></span><span style=display:flex><span>NAME     <span style=color:#f92672>=</span> gogs
</span></span><span style=display:flex><span>SCHEMA   <span style=color:#f92672>=</span> public
</span></span><span style=display:flex><span>USER     <span style=color:#f92672>=</span> git
</span></span><span style=display:flex><span>PASSWORD <span style=color:#f92672>=</span> qingchun
</span></span><span style=display:flex><span>SSL_MODE <span style=color:#f92672>=</span> disable
</span></span><span style=display:flex><span>PATH     <span style=color:#f92672>=</span> /home/git/gogs/data/gogs.db
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>repository<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>ROOT           <span style=color:#f92672>=</span> /home/git/gogs-repositories
</span></span><span style=display:flex><span>DEFAULT_BRANCH <span style=color:#f92672>=</span> master
</span></span><span style=display:flex><span>DISABLE_HTTP_GIT <span style=color:#f92672>=</span> true
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>server<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>DOMAIN           <span style=color:#f92672>=</span> rcserver
</span></span><span style=display:flex><span>HTTP_ADDR        <span style=color:#f92672>=</span> 0.0.0.0
</span></span><span style=display:flex><span>HTTP_PORT        <span style=color:#f92672>=</span> <span style=color:#ae81ff>5200</span>
</span></span><span style=display:flex><span>EXTERNAL_URL     <span style=color:#f92672>=</span> https://rcserver:5200/gogs/
</span></span><span style=display:flex><span>DISABLE_SSH      <span style=color:#f92672>=</span> false
</span></span><span style=display:flex><span>START_SSH_SERVER <span style=color:#f92672>=</span> false
</span></span><span style=display:flex><span>PROTOCOL         <span style=color:#f92672>=</span> https
</span></span><span style=display:flex><span>SSH_PORT         <span style=color:#f92672>=</span> <span style=color:#ae81ff>22</span>
</span></span><span style=display:flex><span>START_SSH_SERVER <span style=color:#f92672>=</span> false
</span></span><span style=display:flex><span>OFFLINE_MODE     <span style=color:#f92672>=</span> true
</span></span><span style=display:flex><span>CERT_FILE        <span style=color:#f92672>=</span> /home/git/cert/server/server.crt.pem
</span></span><span style=display:flex><span>KEY_FILE         <span style=color:#f92672>=</span> /home/git/cert/server/server.key.pem 
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>mailer<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>ENABLED <span style=color:#f92672>=</span> false
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>auth<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>REQUIRE_EMAIL_CONFIRMATION  <span style=color:#f92672>=</span> false
</span></span><span style=display:flex><span>DISABLE_REGISTRATION        <span style=color:#f92672>=</span> false
</span></span><span style=display:flex><span>ENABLE_REGISTRATION_CAPTCHA <span style=color:#f92672>=</span> true
</span></span><span style=display:flex><span>REQUIRE_SIGNIN_VIEW         <span style=color:#f92672>=</span> false
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>user<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>ENABLE_EMAIL_NOTIFICATION <span style=color:#f92672>=</span> false
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>picture<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>DISABLE_GRAVATAR        <span style=color:#f92672>=</span> false
</span></span><span style=display:flex><span>ENABLE_FEDERATED_AVATAR <span style=color:#f92672>=</span> false
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>session<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>PROVIDER <span style=color:#f92672>=</span> file
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>log<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>MODE      <span style=color:#f92672>=</span> console,file
</span></span><span style=display:flex><span>LEVEL     <span style=color:#f92672>=</span> Info
</span></span><span style=display:flex><span>ROOT_PATH <span style=color:#f92672>=</span> /home/git/gogs/log
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>security<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>INSTALL_LOCK <span style=color:#f92672>=</span> true
</span></span><span style=display:flex><span>SECRET_KEY   <span style=color:#f92672>=</span> OVfLU6Z3xEz1A16
</span></span></code></pre></div><h4 id=配置开机启动服务><a class=header-anchor href=#%e9%85%8d%e7%bd%ae%e5%bc%80%e6%9c%ba%e5%90%af%e5%8a%a8%e6%9c%8d%e5%8a%a1></a>配置开机启动服务</h4><p>开机启动脚本均放置在 <a href=https://github.com/gogs/gogs/blob/main/scripts/>github-url</a>中，对应到服务器上的路径则是<code>/home/git/gogs/scripts/mygogs.service</code>以 systemd 启动方式为例，具体结合两个中文教程的对应章节执行。已经实现的service脚本名称应该是 mygogs.service，直接修改该文件即可。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span>[<span style=color:#ae81ff>Unit]</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>Description=Gogs</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>After=network.target</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>After=mysql.service mysqld.service</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>[<span style=color:#ae81ff>Service]</span>
</span></span><span style=display:flex><span><span style=color:#75715e># Modify these two values and uncomment them if you have</span>
</span></span><span style=display:flex><span><span style=color:#75715e># repos with lots of files and get an HTTP error 500 because</span>
</span></span><span style=display:flex><span><span style=color:#75715e># of that</span>
</span></span><span style=display:flex><span><span style=color:#75715e>###</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#LimitMEMLOCK=infinity</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#LimitNOFILE=65535</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>Type=simple</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>User=git</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>Group=git</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>WorkingDirectory=/home/git/gogs</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>ExecStart=/home/git/gogs/gogs web</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>Restart=always</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>RestartSec=2s</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>Environment=USER=git HOME=/home/git</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Some distributions may not support these hardening directives. If you cannot start the service due</span>
</span></span><span style=display:flex><span><span style=color:#75715e># to an unknown option, comment out the ones not supported by your version of systemd.</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>ProtectSystem=full</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>PrivateDevices=yes</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>PrivateTmp=yes</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>NoNewPrivileges=true</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>[<span style=color:#ae81ff>Install]</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>WantedBy=multi-user.target</span>
</span></span></code></pre></div><h4 id=使用nginx反向代理><a class=header-anchor href=#%e4%bd%bf%e7%94%a8nginx%e5%8f%8d%e5%90%91%e4%bb%a3%e7%90%86></a>使用nginx反向代理</h4><blockquote><p>当然，反向代理也可以统一用apache实现。注意，在 ubuntu 上开启 nginx 服务前，需要检查是否有 apache 抢占了80与443端口，如有需关。</p></blockquote><p>具体部署时，服务器利用了nginx实现了一些高级功能。因此，如果想要对具体实现原理有所了解的话，便不能不了解nginx配置文件规则。</p><ul><li><a href=https://www.cnblogs.com/benwu/articles/15843305.html>nginx location 匹配规则解释</a></li><li><a href=https://www.cnblogs.com/firstlady/p/17916938.html>重定向与重写</a></li><li><a href=https://geekdaxue.co/read/aisuhua@kegnat/hg0cnp>proxy_pass</a></li></ul><p>这一段代码将 /gogs/ location 下的所有服务重写到本地回环ip上</p><p>根据访问源ip判断是否是来自于ROBOCON局域网ip(通过ip是否是192.168.3.xxx来判断)，如果是，则说明其是通过路由器内部访问的，允许访问注册界面，如果不是，则将对注册界面的访问重定向/重写到拒绝注册页面。</p><p>目前在<code>/etc/nginx/sites-available/default</code>中是这样配置的：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e>##</span>
</span></span><span style=display:flex><span><span style=color:#75715e># You should look at the following URL&#39;s in order to grasp a solid understanding</span>
</span></span><span style=display:flex><span><span style=color:#75715e># of Nginx configuration files in order to fully unleash the power of Nginx.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># https://www.nginx.com/resources/wiki/start/</span>
</span></span><span style=display:flex><span><span style=color:#75715e># https://www.nginx.com/resources/wiki/start/topics/tutorials/config_pitfalls/</span>
</span></span><span style=display:flex><span><span style=color:#75715e># https://wiki.debian.org/Nginx/DirectoryStructure</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#</span>
</span></span><span style=display:flex><span><span style=color:#75715e># In most cases, administrators will remove this file from sites-enabled/ and</span>
</span></span><span style=display:flex><span><span style=color:#75715e># leave it as reference inside of sites-available where it will continue to be</span>
</span></span><span style=display:flex><span><span style=color:#75715e># updated by the nginx packaging team.</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#</span>
</span></span><span style=display:flex><span><span style=color:#75715e># This file will automatically load configuration files provided by other</span>
</span></span><span style=display:flex><span><span style=color:#75715e># applications, such as Drupal or Wordpress. These applications will be made</span>
</span></span><span style=display:flex><span><span style=color:#75715e># available underneath a path with that package name, such as /drupal8.</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#</span>
</span></span><span style=display:flex><span><span style=color:#75715e># Please see /usr/share/doc/nginx-doc/examples/ for more detailed examples.</span>
</span></span><span style=display:flex><span><span style=color:#75715e>##</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>server<span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    listen 80;
</span></span><span style=display:flex><span>      <span style=color:#75715e># 你的域名或 IP 地址</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>301</span> https://$host$request_uri;
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>geo $gogs_signup_disabled_ip <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    default 1;
</span></span><span style=display:flex><span>    192.168.3.0/24 0;
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>server <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    listen <span style=color:#ae81ff>443</span> ssl;
</span></span><span style=display:flex><span>    <span style=color:#75715e># 115.154.175.254:5200</span>
</span></span><span style=display:flex><span>    server_name _;  <span style=color:#75715e># 域名或 IP 地址</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    ssl_certificate /home/git/cert/server/server.crt.pem;   <span style=color:#75715e># 证书路径</span>
</span></span><span style=display:flex><span>    ssl_certificate_key /home/git/cert/server/server.key.pem;  <span style=color:#75715e># 密钥路径</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    ssl_protocols TLSv1.2 TLSv1.3;
</span></span><span style=display:flex><span>    ssl_ciphers <span style=color:#e6db74>&#39;AESGCM:CHACHA20:!aNULL:!MD5:!3DES&#39;</span>;
</span></span><span style=display:flex><span>    ssl_prefer_server_ciphers off;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    error_page <span style=color:#ae81ff>497</span> 301 <span style=color:#f92672>=</span><span style=color:#ae81ff>307</span> https://$host:5200$request_uri;
</span></span><span style=display:flex><span>    location /register-denied.html <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    	root /home/git/gogs/public/error_pages;
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>    location <span style=color:#f92672>=</span> /gogs <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>	rewrite ^/<span style=color:#f92672>(</span>.*<span style=color:#f92672>)</span> https://$host:5200/gogs/ break;
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>    location ^~ /gogs/ <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>	set $flag 0;
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span> <span style=color:#f92672>(</span>$gogs_signup_disabled_ip<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>	     set $flag <span style=color:#e6db74>&#34;</span><span style=color:#e6db74>${</span>flag<span style=color:#e6db74>}</span><span style=color:#e6db74>1&#34;</span>;
</span></span><span style=display:flex><span>        <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span> <span style=color:#f92672>(</span>$uri ~ ^/gogs/user/sign_up<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>	    set $flag <span style=color:#e6db74>&#34;</span><span style=color:#e6db74>${</span>flag<span style=color:#e6db74>}</span><span style=color:#e6db74>2&#34;</span>;
</span></span><span style=display:flex><span>	<span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span> <span style=color:#f92672>(</span>$flag <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;012&#34;</span><span style=color:#f92672>){</span>
</span></span><span style=display:flex><span>	    rewrite ^/<span style=color:#f92672>(</span>.*<span style=color:#f92672>)</span> https://$host:5200/register-denied.html break;
</span></span><span style=display:flex><span>	<span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>        proxy_pass https://localhost:5200/;  <span style=color:#75715e># 代理到你的 HTTP 服务</span>
</span></span><span style=display:flex><span>        proxy_set_header Host $host;
</span></span><span style=display:flex><span>        proxy_set_header X-Real-IP $remote_addr;
</span></span><span style=display:flex><span>        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
</span></span><span style=display:flex><span>        proxy_set_header X-Forwarded-Proto $scheme;
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>    location <span style=color:#f92672>=</span> /docsy <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>	rewrite ^/<span style=color:#f92672>(</span>.*<span style=color:#f92672>)</span> https://$host:5200/docsy/ break;
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>    location ^~ /docsy/ <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        alias /home/git/hugo/xjrcBlog/public/;
</span></span><span style=display:flex><span>        index index.html;
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>    location ^~ /files <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	 rewrite ^/<span style=color:#f92672>(</span>.*<span style=color:#f92672>)</span> https://$host:5200/files/ break;
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>    location ^~ /files/<span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>	proxy_pass http://localhost:5202/;
</span></span><span style=display:flex><span>        proxy_set_header Host $host;
</span></span><span style=display:flex><span>        proxy_set_header X-Real-IP $remote_addr;
</span></span><span style=display:flex><span>        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
</span></span><span style=display:flex><span>        proxy_set_header X-Forwarded-Proto $scheme;
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    location / <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>	alias /home/git/hugo/xjrcBlog/public/;
</span></span><span style=display:flex><span>	index index.html;
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span></code></pre></div><h3 id=doc-service><a class=header-anchor href=#doc-service></a>doc-service</h3><p>SOURCE:</p><ul><li><a href=https://github.com/gohugoio/hugo>Hugo github repo</a></li><li><a href=https://github.com/google/docsy>Docsy github repo</a></li><li><a href=https://github.com/google/docsy-example>Docsy-example github repo</a></li><li><a href=https://www.docsy.dev/docs/>Docsy 英文文档</a></li><li><a href=https://t.is-local.org/zh-cn/docs/->Docsy 中文文档</a></li></ul><h4 id=修改内容><a class=header-anchor href=#%e4%bf%ae%e6%94%b9%e5%86%85%e5%ae%b9></a>修改内容</h4><p>主要修改了初始页面，about页面，删除了博客页面与文档页面的例子。</p><h4 id=nginx-configuration><a class=header-anchor href=#nginx-configuration></a>nginx configuration</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>robocon@rc-server:/etc/nginx$ cat nginx.conf 
</span></span><span style=display:flex><span>user www-data;
</span></span><span style=display:flex><span>worker_processes auto;
</span></span><span style=display:flex><span>pid /run/nginx.pid;
</span></span><span style=display:flex><span>include /etc/nginx/modules-enabled/*.conf;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>events <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        worker_connections 768;
</span></span><span style=display:flex><span>        <span style=color:#75715e># multi_accept on;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>http <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>##</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># Basic Settings</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>##</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        sendfile on;
</span></span><span style=display:flex><span>        tcp_nopush on;
</span></span><span style=display:flex><span>        types_hash_max_size 2048;
</span></span><span style=display:flex><span>        <span style=color:#75715e># server_tokens off;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># server_names_hash_bucket_size 64;</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># server_name_in_redirect off;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        include /etc/nginx/mime.types;
</span></span><span style=display:flex><span>        default_type application/octet-stream;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>##</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># SSL Settings</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>##</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        ssl_protocols TLSv1 TLSv1.1 TLSv1.2 TLSv1.3; <span style=color:#75715e># Dropping SSLv3, ref: POODLE</span>
</span></span><span style=display:flex><span>        ssl_prefer_server_ciphers on;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>##</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># Logging Settings</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>##</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        access_log /var/log/nginx/access.log;
</span></span><span style=display:flex><span>        error_log /var/log/nginx/error.log;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>##</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># Gzip Settings</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>##</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        gzip on;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># gzip_vary on;</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># gzip_proxied any;</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># gzip_comp_level 6;</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># gzip_buffers 16 8k;</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># gzip_http_version 1.1;</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># gzip_types text/plain text/css application/json application/javascript text/xml application/xml application/xml+rss text/javascript;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>##</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># Virtual Host Configs</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>##</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        include /etc/nginx/conf.d/*.conf;
</span></span><span style=display:flex><span>        include /etc/nginx/sites-enabled/*;
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#mail {</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#       # See sample authentication script at:</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#       # http://wiki.nginx.org/ImapAuthenticateWithApachePhpScript</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#       # auth_http localhost/auth.php;</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#       # pop3_capabilities &#34;TOP&#34; &#34;USER&#34;;</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#       # imap_capabilities &#34;IMAP4rev1&#34; &#34;UIDPLUS&#34;;</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#       server {</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#               listen     localhost:110;</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#               protocol   pop3;</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#               proxy      on;</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#       }</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#       server {</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#               listen     localhost:143;</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#               protocol   imap;</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#               proxy      on;</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#       }</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#}</span>
</span></span></code></pre></div><h3 id=file-service><a class=header-anchor href=#file-service></a>file-service</h3><p>拟采用 rust 语言实现的 <a href=https://github.com/sigoden/dufs>dufs</a> 来提供文件服务。原本的 FileBrowser 由于bug太多，拟弃用。</p><h4 id=安装与启动方式><a class=header-anchor href=#%e5%ae%89%e8%a3%85%e4%b8%8e%e5%90%af%e5%8a%a8%e6%96%b9%e5%bc%8f></a>安装与启动方式</h4><p>建议通过二进制形式安装，直接从 <a href=https://github.com/sigoden/dufs/releases/tag/v0.43.0>dufs-Releases</a> 页面下载系统对应的二进制包。</p><p>采用 systemd 方式配置启动：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span>[<span style=color:#ae81ff>Unit]</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>Description=Gogs</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>After=network.target</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>[<span style=color:#ae81ff>Service]</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>Type=simple</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>User=git</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>Group=git</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>WorkingDirectory=/home/git/gogs</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>ExecStart=/home/git/gogs/gogs web</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>Restart=always</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>RestartSec=2s</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>Environment=USER=git HOME=/home/git</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Some distributions may not support these hardening directives. If you cannot start the service due</span>
</span></span><span style=display:flex><span><span style=color:#75715e># to an unknown option, comment out the ones not supported by your version of systemd.</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>ProtectSystem=full</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>PrivateDevices=yes</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>PrivateTmp=yes</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>NoNewPrivileges=true</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>[<span style=color:#ae81ff>Install]</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>WantedBy=multi-user.target</span>
</span></span></code></pre></div><h4 id=配置文件><a class=header-anchor href=#%e9%85%8d%e7%bd%ae%e6%96%87%e4%bb%b6></a>配置文件</h4><p>参考 <a href="https://github.com/sigoden/dufs/tree/v0.43.0?tab=readme-ov-file#configuration-file">README#Configuration File</a> 修改配置文件：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>serve-path</span>: <span style=color:#e6db74>&#39;.&#39;</span> <span style=color:#75715e># 修改为提供共享文件夹的地址</span>
</span></span><span style=display:flex><span><span style=color:#f92672>bind</span>: <span style=color:#ae81ff>0.0.0.0</span>   <span style=color:#75715e># 全局监听</span>
</span></span><span style=display:flex><span><span style=color:#f92672>port</span>: <span style=color:#ae81ff>5203</span>      <span style=color:#75715e># 一个不与其他服务冲突的端口</span>
</span></span><span style=display:flex><span><span style=color:#f92672>path-prefix</span>: <span style=color:#ae81ff>/dufs</span>
</span></span><span style=display:flex><span><span style=color:#f92672>hidden</span>:         <span style=color:#75715e># 指定需要隐藏的文件，允许正则匹配</span>
</span></span><span style=display:flex><span>  - <span style=color:#ae81ff>tmp</span>
</span></span><span style=display:flex><span>  - <span style=color:#e6db74>&#39;*.log&#39;</span>
</span></span><span style=display:flex><span>  - <span style=color:#e6db74>&#39;*.lock&#39;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>auth</span>:           <span style=color:#75715e># 指定访问控制，@前是&#39;用户名:密码&#39;，@后是&#39;文件夹:访问权限&#39;组成的列表</span>
</span></span><span style=display:flex><span>  - <span style=color:#ae81ff>admin:admin@/:rw</span>
</span></span><span style=display:flex><span>  - <span style=color:#ae81ff>user:pass@/src:rw,/share</span>
</span></span><span style=display:flex><span>  - <span style=color:#e6db74>&#39;@/&#39;</span>  <span style=color:#75715e># According to the YAML spec, quoting is required.</span>
</span></span><span style=display:flex><span><span style=color:#f92672>allow-all</span>: <span style=color:#66d9ef>false</span> <span style=color:#75715e># allow-是全局设置，一旦设置为false，具体的访问控制将会被覆盖</span>
</span></span><span style=display:flex><span><span style=color:#f92672>allow-upload</span>: <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span><span style=color:#f92672>allow-delete</span>: <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span><span style=color:#f92672>allow-search</span>: <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span><span style=color:#f92672>allow-symlink</span>: <span style=color:#66d9ef>true</span> <span style=color:#75715e># 允许指向根目录外的符号链接</span>
</span></span><span style=display:flex><span><span style=color:#f92672>allow-archive</span>: <span style=color:#66d9ef>true</span> <span style=color:#75715e># 允许压缩zip文件</span>
</span></span><span style=display:flex><span><span style=color:#f92672>enable-cors</span>: <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span><span style=color:#f92672>render-index</span>: <span style=color:#66d9ef>true</span> <span style=color:#75715e># 当指定的目录不存在时，如果不存在./index.html页面，则显示404 not found ？？——是否理解正确？</span>
</span></span><span style=display:flex><span><span style=color:#f92672>render-try-index</span>: <span style=color:#66d9ef>true</span> <span style=color:#75715e># 当指定的目录不存在时，如果不存在./index.html页面，则显示根目录列表 ？？——是否理解正确？</span>
</span></span><span style=display:flex><span><span style=color:#f92672>render-spa</span>: <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span><span style=color:#f92672>assets</span>: <span style=color:#ae81ff>./assets/</span> <span style=color:#75715e># 指定网页的样式文件(html,css,etc.)存储的文件夹</span>
</span></span><span style=display:flex><span><span style=color:#f92672>log-format</span>: <span style=color:#e6db74>&#39;$remote_addr &#34;$request&#34; $status $http_user_agent&#39;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>log-file</span>: <span style=color:#ae81ff>./dufs.log</span>
</span></span><span style=display:flex><span><span style=color:#f92672>compress</span>: <span style=color:#ae81ff>low</span>
</span></span><span style=display:flex><span><span style=color:#f92672>tls-cert</span>: <span style=color:#ae81ff>tests/data/cert.pem      </span> <span style=color:#75715e># tls(https)公钥</span>
</span></span><span style=display:flex><span><span style=color:#f92672>tls-key</span>: <span style=color:#ae81ff>tests/data/key_pkcs1.pem  </span> <span style=color:#75715e># tls(https)私钥</span>
</span></span></code></pre></div><h3 id=模块联动><a class=header-anchor href=#%e6%a8%a1%e5%9d%97%e8%81%94%e5%8a%a8></a>模块联动</h3><p>Docsy Site 托管在 gogs 上，所有所有对其仓库的更改均会触发githook重新生成静态页面。这个钩子叫做post-receive，即服务端收到提交后运行的代码。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e>#!/bin/sh
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#75715e>#</span>
</span></span><span style=display:flex><span><span style=color:#75715e># An example hook script for the &#34;post-receive&#34; event.</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#</span>
</span></span><span style=display:flex><span><span style=color:#75715e># The &#34;post-receive&#34; script is run after receive-pack has accepted a pack</span>
</span></span><span style=display:flex><span><span style=color:#75715e># and the repository has been updated.  It is passed arguments in through</span>
</span></span><span style=display:flex><span><span style=color:#75715e># stdin in the form</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#  &lt;oldrev&gt; &lt;newrev&gt; &lt;refname&gt;</span>
</span></span><span style=display:flex><span><span style=color:#75715e># For example:</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#  aa453216d1b3e49e7f6f98441fa56946ddcd6a20 68f7abf4e6f922807889f52bc043ecd31b79f814 refs/heads/master</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>while</span> read oldrev newrev refname
</span></span><span style=display:flex><span><span style=color:#66d9ef>do</span>
</span></span><span style=display:flex><span>    branch<span style=color:#f92672>=</span><span style=color:#66d9ef>$(</span>git rev-parse --symbolic --abbrev-ref $refname<span style=color:#66d9ef>)</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> <span style=color:#f92672>[</span> <span style=color:#e6db74>&#34;master&#34;</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;</span>$branch<span style=color:#e6db74>&#34;</span> <span style=color:#f92672>]</span>; <span style=color:#66d9ef>then</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># 同步更改到 /home/git/hugo/xjrcBlog/ 文件夹，并且强制与现在仓库样貌保持一致</span>
</span></span><span style=display:flex><span>        git --git-dir<span style=color:#f92672>=</span>/home/git/hugo/xjrcBlog/.git --work-tree<span style=color:#f92672>=</span>/home/git/hugo/xjrcBlog fetch origin
</span></span><span style=display:flex><span>        git --git-dir<span style=color:#f92672>=</span>/home/git/hugo/xjrcBlog/.git --work-tree<span style=color:#f92672>=</span>/home/git/hugo/xjrcBlog reset --hard origin/master
</span></span><span style=display:flex><span>        <span style=color:#75715e># 一个mermaid 图表生成脚本</span>
</span></span><span style=display:flex><span>        python3 /home/git/scripts/git-mermaid.py <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>        --repo-name<span style=color:#f92672>=</span>xjrc-blog <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>        --repo-dir<span style=color:#f92672>=</span>. <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>        --output-file<span style=color:#f92672>=</span>/home/git/hugo/xjrcBlog/content/zh-hans/tools/git-history/xjrc_blog/index.md
</span></span><span style=display:flex><span>        cd /home/git/hugo/xjrcBlog/
</span></span><span style=display:flex><span>        <span style=color:#75715e># 不尝试获取系统时间 不使用 Chmod 保护文件属性 --- 脚本不是以root用户运行的，没有对应权限</span>
</span></span><span style=display:flex><span>        /usr/local/bin/hugo --noChmod --noTimes
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>fi</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>done</span>
</span></span></code></pre></div><h3 id=nginx-其他配置><a class=header-anchor href=#nginx-%e5%85%b6%e4%bb%96%e9%85%8d%e7%bd%ae></a>nginx 其他配置</h3><h4 id=fastcgi><a class=header-anchor href=#fastcgi></a>FastCGI</h4><p>FastCGI（FastCommon Gateway Interface）全称是“快速通用网关接口”，是一种让客户端（web浏览器）与Web服务器（nginx等）程序进行通信（数据传输）的协议。</p><p>FastCGI的工作原理如下：</p><ul><li>Web Server启动同时，加载FastCGI进程管理器(nginx的php-fpm或者IIS的ISAPI或Apache的Module)</li><li>FastCGI进程管理器读取php.ini配置文件，对自身进行初始化，启动多个CGI解释器进程(php-cgi)，等待来自Web Server的连接。</li><li>当Web Server接收到客户端请求时，FastCGI进程管理器选择并连接到一个CGI解释器。Web server会将相关环境变量和标准输入发送到FastCGI子进程php-cgi进行处理</li><li>FastCGI子进程完成处理后将数据按照CGI规定的格式返回给Web Server，然后关闭FastCGI子进程或者等待下一次请求。</li></ul><p><img src=image/fastcgi.png alt>
所以说，需要按照配置文件<code>/etc/nginx/fastcgi.conf</code>将 Nginx 的请求环境变量打包并传给 FastCGI 后端。FastCGI的优势在于它可以缓存进程，避免了每次请求都要创建和销毁进程的开销，提高了服务器的性能和响应速度。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>fastcgi_param  SCRIPT_FILENAME    $document_root$fastcgi_script_name;
</span></span><span style=display:flex><span>fastcgi_param  QUERY_STRING       $query_string;
</span></span><span style=display:flex><span>fastcgi_param  REQUEST_METHOD     $request_method;
</span></span><span style=display:flex><span>fastcgi_param  CONTENT_TYPE       $content_type;
</span></span><span style=display:flex><span>fastcgi_param  CONTENT_LENGTH     $content_length;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>fastcgi_param  SCRIPT_NAME        $fastcgi_script_name;
</span></span><span style=display:flex><span>fastcgi_param  REQUEST_URI        $request_uri;
</span></span><span style=display:flex><span>fastcgi_param  DOCUMENT_URI       $document_uri;
</span></span><span style=display:flex><span>fastcgi_param  DOCUMENT_ROOT      $document_root;
</span></span><span style=display:flex><span>fastcgi_param  SERVER_PROTOCOL    $server_protocol;
</span></span><span style=display:flex><span>fastcgi_param  REQUEST_SCHEME     $scheme;
</span></span><span style=display:flex><span>fastcgi_param  HTTPS              $https if_not_empty;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>fastcgi_param  GATEWAY_INTERFACE  CGI/1.1;
</span></span><span style=display:flex><span>fastcgi_param  SERVER_SOFTWARE    nginx/$nginx_version;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>fastcgi_param  REMOTE_ADDR        $remote_addr;
</span></span><span style=display:flex><span>fastcgi_param  REMOTE_PORT        $remote_port;
</span></span><span style=display:flex><span>fastcgi_param  REMOTE_USER        $remote_user;
</span></span><span style=display:flex><span>fastcgi_param  SERVER_ADDR        $server_addr;
</span></span><span style=display:flex><span>fastcgi_param  SERVER_PORT        $server_port;
</span></span><span style=display:flex><span>fastcgi_param  SERVER_NAME        $server_name;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># PHP only, required if PHP was built with --enable-force-cgi-redirect</span>
</span></span><span style=display:flex><span>fastcgi_param  REDIRECT_STATUS    200;
</span></span></code></pre></div></div><footer class=article-footer><div class=share-wrapper><a href="http://connect.qq.com/widget/shareqq/index.html?url=https://user-xixiboliya.github.io/post/rcserver/&amp;title=RC%20%e7%bd%91%e7%bb%9c%e4%bb%93%e5%ba%93%e6%9c%8d%e5%8a%a1%e5%99%a8&amp;desc=ROBOCON%e7%9a%84%e5%af%b9%e5%86%85%e6%9c%8d%e5%8a%a1%e5%99%a8%e4%bd%bf%e7%94%a8%e6%8c%87%e5%8d%97%e3%80%82&amp;source=https://user-xixiboliya.github.io/" target=_blank rel="noopener noreferrer" title="RC 网络仓库服务器"><div class="share-icon icon icon-qq"></div></a><a href=javascript:; title="RC 网络仓库服务器"><div class="share-icon icon icon-weixin"><div id=share-weixin><div class=share-weixin-dom><div class=share-weixin-content><img id=share-weixin-banner><div id=share-weixin-title></div><div id=share-weixin-desc></div></div><div class=share-weixin-qrcode><div class=share-weixin-info><div id=share-weixin-author></div><div id=share-weixin-theme>Powered By hugo-theme-reimu</div></div><img id=share-weixin-qr></div></div><div class=share-weixin-canvas></div></div></div></a></div><ul class=article-tag-list itemprop=keywords></ul></footer></div><nav id=article-nav data-aos=fade-up><div class="article-nav-link-wrap article-nav-link-left"><img data-src="https://upload-bbs.miyoushe.com/upload/2023/09/04/326552234/467abc98e4ed9fcbacbdb3f1dec2b963_2067543618592789705.png?x-oss-process=image//resize,s_600/quality,q_80/auto-orient,0/interlace,1/format,png" data-sizes=auto alt="2025XJTU AI系统复习" class=lazyload>
<a href=https://user-xixiboliya.github.io/post/ai_system%E5%A4%8D%E4%B9%A0/></a><div class=article-nav-caption>Newer</div><h3 class=article-nav-title>2025XJTU AI系统复习</h3></div><div class="article-nav-link-wrap article-nav-link-right"><img data-src="https://upload-bbs.miyoushe.com/upload/2023/09/04/326552234/5b4975c852e0aedac344ee7a60e1d854_8951398114056372922.png?x-oss-process=image//resize,s_600/quality,q_80/auto-orient,0/interlace,1/format,png" data-sizes=auto alt="Windows-cpp-clang 环境搭建" class=lazyload>
<a href=https://user-xixiboliya.github.io/post/windows-cpp/></a><div class=article-nav-caption>Older</div><h3 class=article-nav-title>Windows-cpp-clang 环境搭建</h3></div></nav></article></section></div><footer id=footer><div style=width:100%;overflow:hidden><div class=footer-line></div></div><div id=footer-info><div><span class=icon-copyright></span>
2020 -
2025
<span class="footer-info-sep rotate"></span>
Bertsin</div><div>Powered by&nbsp;<a href=https://gohugo.io/ target=_blank>Hugo</a>&nbsp; Theme.<a href=https://github.com/D-Sketon/hugo-theme-reimu target=_blank>Reimu</a></div><div><span class=icon-brush>&nbsp;
10.9k
</span>&nbsp;|&nbsp;
<span class=icon-coffee>&nbsp;
01:07</span></div><div><span class=icon-eye></span>
<span id=busuanzi_container_site_pv>Number of visits&nbsp;<span id=busuanzi_value_site_pv></span></span>
&nbsp;|&nbsp;
<span class=icon-user></span>
<span id=busuanzi_container_site_uv>Number of visitors&nbsp;<span id=busuanzi_value_site_uv></span></span></div></div></footer><div class=sidebar-top><div class="sidebar-top-taichi rotate"></div><div class=arrow-up></div></div><div id=mask class=hide></div></div><nav id=mobile-nav><div class=sidebar-wrap><div class=sidebar-toc-sidebar><div class=sidebar-toc><h3 class=toc-title>Contents</h3><div class="sidebar-toc-wrapper toc-div-class"><nav id=TableOfContents><ul><li><a href=#intro-服务是什么>Intro 服务是什么</a></li><li><a href=#aim-部署目的>Aim 部署目的</a></li><li><a href=#description-详细介绍>Description 详细介绍</a><ul><li><a href=#ssh-登录>ssh 登录</a></li><li><a href=#git-service>git-service</a></li><li><a href=#doc-service>doc-service</a></li><li><a href=#file-service>file-service</a></li><li><a href=#模块联动>模块联动</a></li><li><a href=#nginx-其他配置>nginx 其他配置</a></li></ul></li></ul></nav></div></div></div><div class="sidebar-common-sidebar hidden"><div class=sidebar-author><img data-src=/avatar/avatar.webp data-sizes=auto alt=Bertsin class=lazyload><div class=sidebar-author-name>Bertsin</div><div class=sidebar-description>祈祷中...</div></div><div class=sidebar-state><div class=sidebar-state-article><div>Posts</div><div class=sidebar-state-number>23</div></div><div class=sidebar-state-category><div>Categories</div><div class=sidebar-state-number>7</div></div><div class=sidebar-state-tag><div>Tags</div><div class=sidebar-state-number>1</div></div></div><div class=sidebar-social><div class="icon-bilibili sidebar-social-icon"><a href="https://space.bilibili.com/651491932?spm_id_from=333.1007.0.0" itemprop=url target=_blank aria-label=bilibili rel="noopener external nofollow noreferrer"></a></div><div class="icon-email sidebar-social-icon"><a href=linboxi123@163.com itemprop=url target=_blank aria-label=email rel="noopener external nofollow noreferrer"></a></div><div class="icon-github sidebar-social-icon"><a href=https://github.com/user-xixiboliya itemprop=url target=_blank aria-label=github rel="noopener external nofollow noreferrer"></a></div><div class="icon-zhihu sidebar-social-icon"><a href=https://www.zhihu.com/people/lllll-19-64-21 itemprop=url target=_blank aria-label=zhihu rel="noopener external nofollow noreferrer"></a></div></div><div class=sidebar-menu><div class=sidebar-menu-link-wrap><a class=sidebar-menu-link-dummy href=/ aria-label=Home></a><div class='sidebar-menu-icon icon rotate'>&#xe62b;</div><div class=sidebar-menu-link>Home</div></div><div class=sidebar-menu-link-wrap><a class=sidebar-menu-link-dummy href=/archives aria-label=Archives></a><div class='sidebar-menu-icon icon'>&#xe633;</div><div class=sidebar-menu-link>Archives</div></div><div class=sidebar-menu-link-wrap><a class=sidebar-menu-link-dummy href=/about aria-label=About></a><div class='sidebar-menu-icon icon'>&#xe63d;</div><div class=sidebar-menu-link>About</div></div><div class=sidebar-menu-link-wrap><a class=sidebar-menu-link-dummy href=/friend aria-label=Friend></a><div class='sidebar-menu-icon icon'>&#xe639;</div><div class=sidebar-menu-link>Friend</div></div></div></div></div><div class=sidebar-btn-wrapper><div class="sidebar-toc-btn current"></div><div class=sidebar-common-btn></div></div></nav></div><div class=site-search><div class="reimu-popup popup"><div class=reimu-search><div class=reimu-search-input-icon></div><div class=reimu-search-input id=reimu-search-input></div><div class=popup-btn-close></div></div><div class=reimu-results><div id=reimu-stats></div><div id=reimu-hits></div><div id=reimu-pagination class=reimu-pagination></div></div><img class=reimu-bg src=/images/reimu.png></div></div><script src=https://npm.webcache.cn/lazysizes@5.3.2/lazysizes.min.js integrity=sha384-3gT/vsepWkfz/ff7PpWNUeMzeWoH3cDhm/A8jM7ouoAK0/fP/9bcHHR5kHq2nf+e crossorigin=anonymous></script><script src=https://npm.webcache.cn/clipboard@2.0.11/dist/clipboard.min.js integrity=sha384-J08i8An/QeARD9ExYpvphB8BsyOj3Gh2TSh1aLINKO3L0cMSH2dN3E22zFoXEi0Q crossorigin=anonymous></script><script src=/js/main.js integrity crossorigin=anonymous></script><script src=/js/aos.js integrity crossorigin=anonymous></script><script>var aosInit=()=>{AOS.init({duration:1e3,easing:"ease",once:!0,offset:50})};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",aosInit):aosInit()</script><script src=/js/pjax_main.js integrity crossorigin=anonymous data-pjax></script><script>var ALGOLIA_CONFIG={logo:"/images/algolia_logo.svg",algolia:{applicationID:"E7TXX1S76T",apiKey:"f3def5697bab431015815d63d4289527",indexName:"algolia",hits:{per_page:parseInt("10")},labels:{input_placeholder:"搜索.....",hits_empty:"未发现与 「${query}」相关内容",hits_stats:"找到${hits}条结果（用时 ${time} ms）"}}}</script><script src=https://npm.webcache.cn/algoliasearch@4.17.1/dist/algoliasearch-lite.umd.js defer integrity=sha384-xvLS0jfKuoREs7pqkRI/OI8GcqohO5S+jQz7ZBtQXnsXmD+9jDOOY4cL6dCPzlrk crossorigin=anonymous></script><script src=https://npm.webcache.cn/instantsearch.js@4.56.1/dist/instantsearch.production.min.js defer integrity=sha384-hHJCflT4KBLQyHfKO9vpstIcFKn/Y+KHTORelMMEn7mOp2AVPp+7fr03dLgZiV3J crossorigin=anonymous></script><script src=/js/algolia_search.js integrity crossorigin=anonymous></script><div id=lazy-script><div><script data-pjax>window.REIMU_POST={author:"Bertsin",title:"RC 网络仓库服务器",url:"https://user-xixiboliya.github.io/post/rcserver/",description:"ROBOCON的对内服务器使用指南。",cover:"https://user-xixiboliya.github.io/images/banner.webp"}</script><script src=/js/insert_highlight.js integrity crossorigin=anonymous data-pjax></script><script type=module data-pjax>
        const PhotoSwipeLightbox = (await safeImport("https:\/\/npm.webcache.cn\/photoswipe@5.4.4\/dist\/photoswipe-lightbox.esm.min.js", "sha384-DiL6M\/gG\u002bwmTxmCRZyD1zee6lIhawn5TGvED0FOh7fXcN9B0aZ9dexSF\/N6lrZi\/")).default;

        const pswp = () => {
          if (_$$('.article-entry a.article-gallery-item').length > 0) {
            new PhotoSwipeLightbox({
              gallery: '.article-entry',
              children: 'a.article-gallery-item',
              pswpModule: () => safeImport("https:\/\/npm.webcache.cn\/photoswipe@5.4.4\/dist\/photoswipe.esm.min.js", "sha384-WkkO3GCmgkC3VQWpaV8DqhKJqpzpF9JoByxDmnV8\u002boTJ7m3DfYEWX1fu1scuS4\u002bs")
            }).init();
          }
          if(_$$('.article-gallery a.article-gallery-item').length > 0) {
            new PhotoSwipeLightbox({
              gallery: '.article-gallery',
              children: 'a.article-gallery-item',
              pswpModule: () => safeImport("https:\/\/npm.webcache.cn\/photoswipe@5.4.4\/dist\/photoswipe.esm.min.js", "sha384-WkkO3GCmgkC3VQWpaV8DqhKJqpzpF9JoByxDmnV8\u002boTJ7m3DfYEWX1fu1scuS4\u002bs")
            }).init();
          }
          window.lightboxStatus = 'done';
          window.removeEventListener('lightbox:ready', pswp);
        }
        if(window.lightboxStatus === 'ready') {
          pswp()
        } else {
          window.addEventListener('lightbox:ready', pswp);
        }
      </script><script src=https://npm.webcache.cn/qrcode@1.4.4/build/qrcode.min.js defer data-pjax integrity=sha384-0RsG1yo/crf/1Qc14sho26SXXOTngNCjgJw7fuvXBt9W/OChF/Ijx+aUuBDqQwEk crossorigin=anonymous></script><script src=https://npm.webcache.cn/html-to-image@1.11.11/dist/html-to-image.js defer data-pjax integrity=sha384-UbfRVKN3/elS1r7JcK2FhmPP+KlJ4CvYwbyYD7tH+uTkbT9bNJr9eJeQ0FoFbAgz crossorigin=anonymous></script></div></div><script src=https://npm.webcache.cn/busuanzi@2.3.0/bsz.pure.mini.js async integrity=sha384-0M75wtSkhjIInv4coYlaJU83+OypaRCIq2SukQVQX04eGTCBXJDuWAbJet56id+S crossorigin=anonymous></script><script>"serviceWorker"in navigator&&navigator.serviceWorker.getRegistrations().then(e=>{for(let t of e)t.unregister()})</script><script>const reimuCopyright=String.raw`
   ______     ______     __     __    __     __  __    
  /\  == \   /\  ___\   /\ \   /\ "-./  \   /\ \/\ \   
  \ \  __<   \ \  __\   \ \ \  \ \ \-./\ \  \ \ \_\ \  
   \ \_\ \_\  \ \_____\  \ \_\  \ \_\ \ \_\  \ \_____\ 
    \/_/ /_/   \/_____/   \/_/   \/_/  \/_/   \/_____/ 
                                                    
  `;console.log(String.raw`%c ${reimuCopyright}`,"color: #ff5252;"),console.log("%c Theme.Reimu %c https://github.com/D-Sketon/hugo-theme-reimu ","color: white; background: #ff5252; padding:5px 0;","padding:4px;border:1px solid #ff5252;")</script></body></html>