<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><title>Datalab | Bertsin
</title><meta name=description content="本人关于CMU Datalab的答案。"><script>window.siteConfig=JSON.parse('{"anchor_icon":null,"clipboard":{"copyright":{"content":"本文版权：本博客所有文章除特别声明外，均采用 BY-NC-SA 许可协议。转载请注明出处！","count":50,"enable":false},"fail":"复制失败 (ﾟ⊿ﾟ)ﾂ","success":"复制成功(*^▽^*)"},"code_block":{"expand":true},"icon_font":"4552607_tq6stt6tcg","outdate":{"daysago":180,"enable":false,"message":"本文最后更新于 {time}，请注意文中内容可能已经发生变化。"}}')</script><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=preload as=style href="https://fonts.googleapis.com/css?family=Mulish:400,400italic,700,700italic%7cNoto%20Serif%20SC:400,400italic,700,700italic%7c&amp;display=swap"><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Mulish:400,400italic,700,700italic%7cNoto%20Serif%20SC:400,400italic,700,700italic%7c&amp;display=swap" media=print onload='this.media="all"'><link rel=preload href=//at.alicdn.com/t/c/font_4552607_tq6stt6tcg.woff2 as=font type=font/woff2 crossorigin=anonymous><link rel=stylesheet href=/css/loader.min.2ad0e9bbffb534e893c0ecefc44787a277cf851387e8ad9dccfbc3a5f0886dbe.css><meta property="og:type" content="website"><meta property="og:title" content="Datalab | Bertsin"><meta property="og:description" content="本人关于CMU Datalab的答案。"><meta property="og:url" content="https://user-xixiboliya.github.io/post/datalab/"><meta property="og:site_name" content="Welcome to Bertsin Homepage!"><meta property="og:image" content="/"><meta property="article:author" content="Bertsin"><meta property="article:published_time" content="2024-11-22T11:00:00-07:00"><meta property="article:modified_time" content="2024-12-20T11:00:00-04:00"><meta name=twitter:card content="summary"><meta name=twitter:image content="/"><link rel="shortcut icon" href=/favicon.ico><link rel=stylesheet href=/css/main.min.4736be6649c5264212fa899e4a65c5a7a9b4ec9701d417bb4524d68e81686937.css><link rel=preload as=style href=https://npm.webcache.cn/photoswipe@5.4.4/dist/photoswipe.css onload='this.onload=null,this.rel="stylesheet"'><link rel=preload as=style href=https://npm.webcache.cn/katex@0.16.9/dist/katex.min.css onload='this.onload=null,this.rel="stylesheet"'><script src=https://npm.webcache.cn/pace-js@1.2.4/pace.min.js integrity=sha384-k6YtvFUEIuEFBdrLKJ3YAUbBki333tj1CSUisai5Cswsg9wcLNaPzsTHDswp4Az8 crossorigin=anonymous></script><link rel=stylesheet href=https://npm.webcache.cn/@reimujs/aos@0.1.0/dist/aos.css></head><body><div id=loader><div class="loading-left-bg loading-bg"></div><div class="loading-right-bg loading-bg"></div><div class=spinner-box><div class=loading-taichi><svg width="150" height="150" viewBox="0 0 1024 1024" class="icon" shape-rendering="geometricPrecision"><path d="M303.5 432a80 80 0 01-12 160 80 80 0 0112-160z" fill="#ff5252"/><path d="M512 65a447 447 0 010 894V929a417 417 0 000-834 417 417 0 000 834v30a447 447 0 010-894zm0 30A417 417 0 01929 512 208.5 208.5.0 01720.5 720.5V592a80 80 0 000-160 80 80 0 000 160V720.5A208.5 208.5.0 01512 512 208.5 208.5.0 00303.5 303.5 208.5 208.5.0 0095 512 417 417 0 01512 95z" fill="#ff5252"/></svg></div><div class=loading-word>少女祈祷中...</div></div></div></div><script>var time=null,startLoading=()=>{time=Date.now(),document.getElementById("loader").classList.remove("loading")},endLoading=()=>{time?Date.now()-time>500?(time=null,document.body.style.overflow="auto",document.getElementById("loader").classList.add("loading")):(setTimeout(endLoading,500-(Date.now()-time)),time=null):(document.body.style.overflow="auto",document.getElementById("loader").classList.add("loading"))};window.addEventListener("DOMContentLoaded",endLoading),document.getElementById("loader").addEventListener("click",endLoading)</script><div id=copy-tooltip style="pointer-events:none;opacity:0;transition:all .2s ease;position:fixed;top:50%;left:50%;z-index:999;transform:translate(-50%,-50%);color:#fff;background:rgba(0,0,0,.5);padding:10px 15px;border-radius:10px"></div><div id=container><div id=wrap><div id=header-nav><nav id=main-nav><span class=main-nav-link-wrap><div class='main-nav-icon icon rotate'>&#xe62b;</div><a class=main-nav-link href=/>Home</a>
</span><span class=main-nav-link-wrap><div class='main-nav-icon icon rotate'>&#xe62b;</div><a class=main-nav-link href=/archives>Archives</a>
</span><span class=main-nav-link-wrap><div class='main-nav-icon icon rotate'>&#xe62b;</div><a class=main-nav-link href=/about>About</a>
</span><span class=main-nav-link-wrap><div class='main-nav-icon icon rotate'>&#xe62b;</div><a class=main-nav-link href=/friend>Friend</a>
</span><a id=main-nav-toggle class=nav-icon></a></nav><nav id=sub-nav><a id=nav-search-btn class="nav-icon popup-trigger" title=Search></a></nav></div><header id=header><img fetchpriority=high src=/images/banner.webp alt=Datalab><div id=header-outer><div id=header-title><a href=/ id=logo><h1 data-aos=slide-up>Datalab</h1></a><h2 id=subtitle-wrap data-aos=slide-down></h2></div></div></header><main id=content><section id=main><article class="h-entry article" itemprop=blogPost itemscope itemtype=https://schema.org/BlogPosting><div class=article-inner data-aos=fade-up><div class=article-meta><div class=article-date><a href=https://user-xixiboliya.github.io/post/datalab/ class=article-date-link data-aos=zoom-in><time datetime="2024-11-22 11:00:00 -0700 -0700" itemprop=datePublished>2024-11-22</time>
<time style=display:none id=post-update-time>2024-12-20</time></a></div><div class=article-category></div></div><div class=hr-line></div><div class="e-content article-entry" itemprop=articleBody><p><img src=imgs/5ba35e59614ed6ae5dc3a4cfaac11f40.png alt>
没得满分是因为在isAsciiDigit中使用了<code>>></code>违规符号。没有用<code>>></code>感觉不会写……请求各位大佬对此出谋划策，感谢！</p><h2 id=写在前面><a class=header-anchor href=#%e5%86%99%e5%9c%a8%e5%89%8d%e9%9d%a2></a>写在前面</h2><p>这部分内容参考<a href=https://arthals.ink/blog/data-lab>Arthals&rsquo; ink</a>。
<code>btest</code>：用于测试你的函数是否正确。仅在一个小的测试集上进行测试，不能完全保证你的函数是正确的。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#75715e># 编译并运行</span>
</span></span><span style=display:flex><span>make <span style=color:#f92672>&amp;&amp;</span> <span style=color:#f92672>./</span>btest
</span></span><span style=display:flex><span><span style=color:#75715e># 对某个函数进行单元测试</span>
</span></span><span style=display:flex><span>make <span style=color:#f92672>&amp;&amp;</span> <span style=color:#f92672>./</span>btest <span style=color:#f92672>-</span>f bitXnor
</span></span><span style=display:flex><span><span style=color:#75715e># 对某个函数进行单元测试，且指定测试用例，以 -1 指定第一个参数，依次类推</span>
</span></span><span style=display:flex><span>make <span style=color:#f92672>&amp;&amp;</span> <span style=color:#f92672>./</span>btest <span style=color:#f92672>-</span>f bitXnor <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span> <span style=color:#ae81ff>7</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>2</span> <span style=color:#ae81ff>0xf</span>
</span></span></code></pre></div><p><code>dlc</code>：用于检查你的代码是否符合规范。</p><pre tabindex=0><code># 检查是否符合编码规范
./dlc bits.c
</code></pre><p><code>driver.pl</code>：用于评分，检查你的函数是否符合规范且正确。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span>.<span style=color:#f92672>/</span>driver.pl
</span></span></code></pre></div><h2 id=bitxor><a class=header-anchor href=#bitxor></a>BitXor</h2><ul><li><code>int temp = ~(x & y)</code>这一步计算的是 <code>x</code> 和 <code>y</code> 各位同时为1的位置的反，即 <code>temp</code> 中的每个位都代表 <code>x</code> 和 <code>y</code> 对应位不同时为1。换句话说，它标记了 <code>x</code> 和 <code>y</code> 中至少有一个位为0的位置。</li><li><code>int a = ~(x & temp)</code>这里使用 <code>x & temp</code> 获取 <code>x</code> 中与 <code>temp</code> 相应位都为1的位。由于 <code>temp</code> 已经标记了 <code>x</code> 和 <code>y</code> 中不同时为1的位置，<code>x & temp</code> 表示 <code>x</code> 是1且 <code>y</code> 是0的位置。<code>~(x & temp)</code> 则将这些位置置为0，其他位置置为1。</li><li><code>int b = ~(y & temp)</code>类似于上面的 <code>a</code>，这里计算的是 <code>y</code> 中与 <code>temp</code> 相应位都为1的位，即 <code>y</code> 是1而 <code>x</code> 是0的位置。<code>~(y & temp)</code> 将这些位置置为0，其他位置置为1。</li><li><code>return ~(a & b);</code>此步骤中，<code>a & b</code> 会在 <code>x</code> 和 <code>y</code> 中同时为0或同时为1的位上返回1（因为只有这两种情况下，<code>a</code> 和 <code>b</code> 的对应位同时为0，取反后为1）。因此，<code>~(a & b)</code> 将这些位置反转，从而得到 <code>x</code> 和 <code>y</code> 的按位异或结果，即只有当 <code>x</code> 和 <code>y</code> 的某位不同时，该位才为1。</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>bitXor</span>(<span style=color:#66d9ef>int</span> x, <span style=color:#66d9ef>int</span> y) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> temp <span style=color:#f92672>=</span> <span style=color:#f92672>~</span>(x<span style=color:#f92672>&amp;</span>y);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> a <span style=color:#f92672>=</span> <span style=color:#f92672>~</span>(x<span style=color:#f92672>&amp;</span>temp);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> b <span style=color:#f92672>=</span> <span style=color:#f92672>~</span>(y<span style=color:#f92672>&amp;</span>temp);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> <span style=color:#f92672>~</span>(a<span style=color:#f92672>&amp;</span>b);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=alloddbits><a class=header-anchor href=#alloddbits></a>allOddBits</h2><p><img src=imgs/modify.png alt></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>allOddBits</span>(<span style=color:#66d9ef>int</span> x) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span>  mask0 <span style=color:#f92672>=</span> <span style=color:#ae81ff>0xAA</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> mask1 <span style=color:#f92672>=</span> mask0 <span style=color:#f92672>&lt;&lt;</span> <span style=color:#ae81ff>8</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> mask2 <span style=color:#f92672>=</span> mask0 <span style=color:#f92672>&lt;&lt;</span> <span style=color:#ae81ff>16</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> mask3 <span style=color:#f92672>=</span> mask0 <span style=color:#f92672>&lt;&lt;</span> <span style=color:#ae81ff>24</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> mask <span style=color:#f92672>=</span>  mask0 <span style=color:#f92672>|</span> mask1 <span style=color:#f92672>|</span> mask2 <span style=color:#f92672>|</span> mask3;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span>  <span style=color:#f92672>!</span>((x<span style=color:#f92672>&amp;</span>mask)<span style=color:#f92672>^</span>mask);
</span></span><span style=display:flex><span>        <span style=color:#75715e>// ((x|mask)^mask)结果为零的话则说明所有的偶数位均为0
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}
</span></span></code></pre></div><h2 id=tmax><a class=header-anchor href=#tmax></a>Tmax</h2><h3 id=answer1><a class=header-anchor href=#answer1></a>answer1</h3><p><img src=imgs/duplicate.png alt></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>isTmax</span>(<span style=color:#66d9ef>int</span> x) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#f92672>!</span>((x<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>)<span style=color:#f92672>^</span>(<span style=color:#f92672>~</span>x) <span style=color:#f92672>&amp;</span> ((x<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>)<span style=color:#f92672>&gt;&gt;</span><span style=color:#ae81ff>31</span>)) ;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=answer2><a class=header-anchor href=#answer2></a>answer2</h3><p><strong>当 <code>x</code> 是 <code>Tmax</code></strong> (<code>0x7FFFFFFF</code>):<code>x + 1</code> 会变成 <code>Tmin</code> (<code>0x80000000</code>)，并且 <code>y ^ (~x)</code> 会是0，<code>!!y</code> 会是1，因此返回1。
<strong>当 <code>x</code> 不是 <code>Tmax</code></strong>: 如果 <code>x</code> 是其他数，<code>y ^ (~x)</code> 会是非零值，或者 <code>y</code> 为0（针对 <code>x = -1</code> 的情况），结果返回0。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>isTmax</span>(<span style=color:#66d9ef>int</span> x) {
</span></span><span style=display:flex><span>        <span style=color:#75715e>//return ( (!((x+1)^(~x))) &amp; ((x+1)&gt;&gt;31) );
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#66d9ef>int</span> y <span style=color:#f92672>=</span> x <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#f92672>!</span>(y <span style=color:#f92672>^</span> (<span style=color:#f92672>~</span>x)) <span style=color:#f92672>&amp;</span> <span style=color:#f92672>!!</span>y;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=ismax><a class=header-anchor href=#ismax></a>isMax</h2><p>我有些违规。。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>isTmax</span>(<span style=color:#66d9ef>int</span> x) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> ( (<span style=color:#f92672>!</span>((x<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>)<span style=color:#f92672>^</span>(<span style=color:#f92672>~</span>x))) <span style=color:#f92672>&amp;</span> ((x<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>)<span style=color:#f92672>&gt;&gt;</span><span style=color:#ae81ff>31</span>) );
</span></span><span style=display:flex><span>        <span style=color:#75715e>//int isTmax(int x) {
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#75715e>//int y = x + 1;
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#75715e>//return !(y ^ (~x)) &amp; !!y;
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=tmin><a class=header-anchor href=#tmin></a>Tmin</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>tmin</span>(<span style=color:#66d9ef>void</span>) {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>1</span><span style=color:#f92672>&lt;&lt;</span><span style=color:#ae81ff>31</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=negate><a class=header-anchor href=#negate></a>negate</h2><p>返回 -x。这个运用书上的结论就好。。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>negate</span>(<span style=color:#66d9ef>int</span> x) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#f92672>~</span>x<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=isasciidigit><a class=header-anchor href=#isasciidigit></a>isAsciiDigit</h2><p>0x30 是 0011 0000，0x39是0011 1001。也就是满足第五位和第六位都是1的前提下，第四位如果是零，则剩下三位怎么取都可以。第四位如果是1，剩下的2、3位只能是0，第1位随意。others是用来检测剩下其它位到底是不是1，因为在<code>make && ./btest</code>时，对于<code>-1853013669[0x918d415b]</code>出错了。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>isAsciiDigit</span>(<span style=color:#66d9ef>int</span> x) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> others <span style=color:#f92672>=</span> <span style=color:#f92672>!</span>(x <span style=color:#f92672>&gt;&gt;</span> <span style=color:#ae81ff>6</span>);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> x6 <span style=color:#f92672>=</span> (x <span style=color:#f92672>&amp;</span> <span style=color:#ae81ff>0x30</span>)<span style=color:#f92672>&gt;&gt;</span><span style=color:#ae81ff>5</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> x5 <span style=color:#f92672>=</span> (x <span style=color:#f92672>&amp;</span> <span style=color:#ae81ff>0x10</span>)<span style=color:#f92672>&gt;&gt;</span><span style=color:#ae81ff>4</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> x4 <span style=color:#f92672>=</span> (x <span style=color:#f92672>&amp;</span> <span style=color:#ae81ff>0x08</span>)<span style=color:#f92672>&gt;&gt;</span><span style=color:#ae81ff>3</span>; 
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> x23 <span style=color:#f92672>=</span> <span style=color:#f92672>!</span>(x <span style=color:#f92672>&amp;</span> <span style=color:#ae81ff>0x06</span>); <span style=color:#75715e>//x is &#39;~00~&#39;, then x23 is 1;it&#39;s good.
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#66d9ef>return</span> others <span style=color:#f92672>&amp;</span> x6 <span style=color:#f92672>&amp;</span> x5 <span style=color:#f92672>&amp;</span> ((x4 <span style=color:#f92672>&amp;</span> x23) <span style=color:#f92672>|</span> <span style=color:#f92672>!</span>x4);
</span></span><span style=display:flex><span><span style=color:#75715e>// 0011 1010
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}
</span></span></code></pre></div><h2 id=conditional><a class=header-anchor href=#conditional></a>conditional</h2><p>本题要求实现<code>same as x ? y : z . Example: conditional(2,4,5)</code> ，使用<code>!!</code>将数映射到<code>{0,1}</code>，如果~x+1的结果全为1的话，使用 <code>&</code>可以保留<code>y</code>的性征，同理z。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>conditional</span>(<span style=color:#66d9ef>int</span> x, <span style=color:#66d9ef>int</span> y, <span style=color:#66d9ef>int</span> z) {
</span></span><span style=display:flex><span>        x <span style=color:#f92672>=</span> <span style=color:#f92672>!!</span>x;
</span></span><span style=display:flex><span>        x <span style=color:#f92672>=</span> <span style=color:#f92672>~</span>x<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> (x <span style=color:#f92672>&amp;</span> y) <span style=color:#f92672>|</span> (<span style=color:#f92672>~</span>x <span style=color:#f92672>&amp;</span> z) ;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=logicalneg><a class=header-anchor href=#logicalneg></a>logicalNeg</h2><p>只有0与它的补码（它自己）的<code>|</code>的最高位为0。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>logicalNeg</span>(<span style=color:#66d9ef>int</span> x) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#f92672>!</span>((x <span style=color:#f92672>|</span> (<span style=color:#f92672>~</span>x<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>)) <span style=color:#f92672>&gt;&gt;</span> <span style=color:#ae81ff>31</span>);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=floatscale2><a class=header-anchor href=#floatscale2></a>Floatscale2</h2><p>通过按位与操作提取符号位、指数位和尾数位：</p><ul><li><code>s</code>：最高位（第31位）为符号位，决定浮点数是正数还是负数。</li><li><code>exp</code>：指数位（第23到30位），决定浮点数的数量级。</li><li><code>frac</code>：尾数位（第0到22位），决定浮点数的小数部分。
处理非归一化数（<code>exp == 0</code> 的情况）</li><li>如果尾数的最高有效位（第22位）为 1，则此时需要将指数加 1，表示进入归一化数状态，同时将尾数左移一位。否则，直接将尾数左移一位，表示乘以 2。
处理归一化数（<code>exp != 0</code> 且 <code>exp != 0x7F800000</code> 的情况）：</li><li>正常情况下，指数加 1，表示乘以 2。如果指数加 1 后变为全 1，则表示结果为无穷大，尾数置为 0。
最后没想到是要写<code>!(exp ^ 0x7F800000)</code>，写成<code>!(~(exp & 0x7F800000 ))</code>不行！？</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#66d9ef>unsigned</span> <span style=color:#a6e22e>floatScale2</span>(<span style=color:#66d9ef>unsigned</span> uf) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> s <span style=color:#f92672>=</span> uf <span style=color:#f92672>&amp;</span> <span style=color:#ae81ff>0x80000000</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> exp <span style=color:#f92672>=</span> uf <span style=color:#f92672>&amp;</span> <span style=color:#ae81ff>0x7F800000</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> frac <span style=color:#f92672>=</span> uf <span style=color:#f92672>&amp;</span> <span style=color:#ae81ff>0x007FFFFF</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (exp <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span>)
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>           <span style=color:#66d9ef>if</span> (frac <span style=color:#f92672>&amp;</span> <span style=color:#ae81ff>0x00400000</span>)
</span></span><span style=display:flex><span>           {
</span></span><span style=display:flex><span>                exp <span style=color:#f92672>+=</span> <span style=color:#ae81ff>0x00800000</span>;
</span></span><span style=display:flex><span>                frac <span style=color:#f92672>=</span> (frac<span style=color:#f92672>&lt;&lt;</span><span style=color:#ae81ff>1</span>) <span style=color:#f92672>&amp;</span> <span style=color:#ae81ff>0x007FFFFF</span>;
</span></span><span style=display:flex><span>           }
</span></span><span style=display:flex><span>           <span style=color:#66d9ef>else</span>
</span></span><span style=display:flex><span>           {
</span></span><span style=display:flex><span>                frac <span style=color:#f92672>=</span> frac <span style=color:#f92672>&lt;&lt;</span><span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>           }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span>(exp <span style=color:#f92672>^</span> <span style=color:#ae81ff>0x7F800000</span>)){
</span></span><span style=display:flex><span>                <span style=color:#75715e>//  wu qiong
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>          <span style=color:#66d9ef>return</span> uf;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>                exp <span style=color:#f92672>+=</span> <span style=color:#ae81ff>0x00800000</span>;  <span style=color:#75715e>//如果 `exp == 0x7F800000`，即指数全为 1，表示无穷大或 NaN，直接返回原数值。
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>                <span style=color:#66d9ef>if</span> (exp<span style=color:#f92672>==</span><span style=color:#ae81ff>0x7F800000</span>){
</span></span><span style=display:flex><span>                        frac <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>                }
</span></span><span style=display:flex><span>         <span style=color:#66d9ef>return</span> s <span style=color:#f92672>|</span> exp <span style=color:#f92672>|</span> frac;       <span style=color:#75715e>// 最后将符号位、指数位、尾数位重新组合为一个无符号整数返回
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}             
</span></span></code></pre></div><h2 id=floatpower2><a class=header-anchor href=#floatpower2></a>floatPower2</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#66d9ef>unsigned</span> <span style=color:#a6e22e>floatPower2</span>(<span style=color:#66d9ef>int</span> x)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> exp <span style=color:#f92672>=</span> x <span style=color:#f92672>&amp;</span> <span style=color:#ae81ff>0x7F800000</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> ret;
</span></span><span style=display:flex><span>        exp <span style=color:#f92672>=</span> exp <span style=color:#f92672>&gt;&gt;</span> <span style=color:#ae81ff>23</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (x<span style=color:#f92672>&gt;</span><span style=color:#ae81ff>127</span>) <span style=color:#66d9ef>return</span> (<span style=color:#ae81ff>0xFF</span><span style=color:#f92672>&lt;&lt;</span><span style=color:#ae81ff>23</span>);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (x<span style=color:#f92672>&lt;-</span><span style=color:#ae81ff>149</span>) <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span>(x <span style=color:#f92672>&lt;</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>126</span>) <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0x1</span> <span style=color:#f92672>&lt;&lt;</span> (x <span style=color:#f92672>+</span> <span style=color:#ae81ff>149</span>);
</span></span><span style=display:flex><span>        exp <span style=color:#f92672>=</span> x <span style=color:#f92672>+</span> <span style=color:#ae81ff>127</span>;
</span></span><span style=display:flex><span>        ret <span style=color:#f92672>=</span> exp <span style=color:#f92672>&lt;&lt;</span> <span style=color:#ae81ff>23</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> ret;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=howmantbits><a class=header-anchor href=#howmantbits></a>howMantBits</h2><p>最具有难度的一个。
<code>(b16 + b8 + b4 + b2 + b1 + x + 1)</code> 正负数都是因为x -> |x| -1 才要补上1的。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>howManyBits</span>(<span style=color:#66d9ef>int</span> x) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> s <span style=color:#f92672>=</span> x<span style=color:#f92672>&gt;&gt;</span><span style=color:#ae81ff>31</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> b16,b8,b4,b2,b1;
</span></span><span style=display:flex><span>        x <span style=color:#f92672>=</span> x <span style=color:#f92672>^</span> s; <span style=color:#75715e>//calculate right shift 这里无形中是算术右移，s=0xFFFFFFFF
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#75715e>//result is x -&gt; |x| -1 
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        b16 <span style=color:#f92672>=</span> <span style=color:#f92672>!!</span>(x<span style=color:#f92672>&gt;&gt;</span><span style=color:#ae81ff>16</span>) <span style=color:#f92672>&lt;&lt;</span><span style=color:#ae81ff>4</span>;<span style=color:#75715e>/* 0000 0000 0000 1000 0000 0000 0000 0000 */</span>
</span></span><span style=display:flex><span>        x <span style=color:#f92672>=</span> x <span style=color:#f92672>&gt;&gt;</span> b16;
</span></span><span style=display:flex><span>        b8 <span style=color:#f92672>=</span> <span style=color:#f92672>!!</span>(x<span style=color:#f92672>&gt;&gt;</span><span style=color:#ae81ff>8</span>) <span style=color:#f92672>&lt;&lt;</span> <span style=color:#ae81ff>3</span>;
</span></span><span style=display:flex><span>        x <span style=color:#f92672>=</span> x <span style=color:#f92672>&gt;&gt;</span> b8;
</span></span><span style=display:flex><span>        b4 <span style=color:#f92672>=</span> <span style=color:#f92672>!!</span>(x <span style=color:#f92672>&gt;&gt;</span> <span style=color:#ae81ff>4</span>) <span style=color:#f92672>&lt;&lt;</span> <span style=color:#ae81ff>2</span>;
</span></span><span style=display:flex><span>        x <span style=color:#f92672>=</span> x <span style=color:#f92672>&gt;&gt;</span> b4;
</span></span><span style=display:flex><span>        b2 <span style=color:#f92672>=</span> <span style=color:#f92672>!!</span>(x <span style=color:#f92672>&gt;&gt;</span> <span style=color:#ae81ff>2</span>) <span style=color:#f92672>&lt;&lt;</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>        x <span style=color:#f92672>=</span> x <span style=color:#f92672>&gt;&gt;</span> b2;
</span></span><span style=display:flex><span>        b1 <span style=color:#f92672>=</span> <span style=color:#f92672>!!</span>(x <span style=color:#f92672>&gt;&gt;</span> <span style=color:#ae81ff>1</span>) <span style=color:#f92672>&lt;&lt;</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>        x <span style=color:#f92672>=</span> x <span style=color:#f92672>&gt;&gt;</span> b1;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> (b16 <span style=color:#f92672>+</span> b8 <span style=color:#f92672>+</span> b4 <span style=color:#f92672>+</span> b2 <span style=color:#f92672>+</span> b1 <span style=color:#f92672>+</span> x <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>至此，完成。</p></div><footer class=article-footer><ul class=article-tag-list itemprop=keywords></ul></footer></div><nav id=article-nav data-aos=fade-up><div class="article-nav-link-wrap article-nav-link-left"><img data-src=https://www.miyoushe.com/ys/article/59314537 data-sizes=auto alt="Linux/ubuntu VPN教程" class=lazyload>
<a href=https://user-xixiboliya.github.io/post/vpn%E6%95%99%E7%A8%8B/></a><div class=article-nav-caption>Newer</div><h3 class=article-nav-title>Linux/ubuntu VPN教程</h3></div><div class="article-nav-link-wrap article-nav-link-right"><img data-src="https://upload-bbs.miyoushe.com/upload/2023/09/04/326552234/8379c9f5b122f17459aab2db244139a5_1638936562769804610.png?x-oss-process=image//resize,s_600/quality,q_80/auto-orient,0/interlace,1/format,png" data-sizes=auto alt=《置身事内》读后记 class=lazyload>
<a href=https://user-xixiboliya.github.io/post/%E7%BD%AE%E8%BA%AB%E4%BA%8B%E5%86%85/></a><div class=article-nav-caption>Older</div><h3 class=article-nav-title>《置身事内》读后记</h3></div></nav></article></section><aside id=sidebar><div class="sidebar-wrapper wrap-sticky"><div class=sidebar-wrap data-aos=fade-up><div class=sidebar-toc-sidebar><div class=sidebar-toc><h3 class=toc-title>Contents</h3><div class="sidebar-toc-wrapper toc-div-class"><nav id=TableOfContents><ul><li><a href=#写在前面>写在前面</a></li><li><a href=#bitxor>BitXor</a></li><li><a href=#alloddbits>allOddBits</a></li><li><a href=#tmax>Tmax</a><ul><li><a href=#answer1>answer1</a></li><li><a href=#answer2>answer2</a></li></ul></li><li><a href=#ismax>isMax</a></li><li><a href=#tmin>Tmin</a></li><li><a href=#negate>negate</a></li><li><a href=#isasciidigit>isAsciiDigit</a></li><li><a href=#conditional>conditional</a></li><li><a href=#logicalneg>logicalNeg</a></li><li><a href=#floatscale2>Floatscale2</a></li><li><a href=#floatpower2>floatPower2</a></li><li><a href=#howmantbits>howMantBits</a></li></ul></nav></div></div></div><div class="sidebar-common-sidebar hidden"><div class=sidebar-author><img data-src=/avatar/avatar.webp data-sizes=auto alt=Bertsin class=lazyload><div class=sidebar-author-name>Bertsin</div><div class=sidebar-description>祈祷中...</div></div><div class=sidebar-state><div class=sidebar-state-article><div>Posts</div><div class=sidebar-state-number>7</div></div><div class=sidebar-state-category><div>Categories</div><div class=sidebar-state-number>0</div></div><div class=sidebar-state-tag><div>Tags</div><div class=sidebar-state-number>0</div></div></div><div class=sidebar-social><div class="icon-bilibili sidebar-social-icon"><a href="https://space.bilibili.com/651491932?spm_id_from=333.1007.0.0" itemprop=url target=_blank aria-label=bilibili rel="noopener external nofollow noreferrer"></a></div><div class="icon-email sidebar-social-icon"><a href=linboxi123@163.com itemprop=url target=_blank aria-label=email rel="noopener external nofollow noreferrer"></a></div><div class="icon-github sidebar-social-icon"><a href=https://github.com/user-xixiboliya itemprop=url target=_blank aria-label=github rel="noopener external nofollow noreferrer"></a></div><div class="icon-zhihu sidebar-social-icon"><a href=https://www.zhihu.com/people/lllll-19-64-21 itemprop=url target=_blank aria-label=zhihu rel="noopener external nofollow noreferrer"></a></div></div><div class=sidebar-menu><div class=sidebar-menu-link-wrap><a class=sidebar-menu-link-dummy href=/ aria-label=Home></a><div class='sidebar-menu-icon icon rotate'>&#xe62b;</div><div class=sidebar-menu-link>Home</div></div><div class=sidebar-menu-link-wrap><a class=sidebar-menu-link-dummy href=/archives aria-label=Archives></a><div class='sidebar-menu-icon icon rotate'>&#xe62b;</div><div class=sidebar-menu-link>Archives</div></div><div class=sidebar-menu-link-wrap><a class=sidebar-menu-link-dummy href=/about aria-label=About></a><div class='sidebar-menu-icon icon rotate'>&#xe62b;</div><div class=sidebar-menu-link>About</div></div><div class=sidebar-menu-link-wrap><a class=sidebar-menu-link-dummy href=/friend aria-label=Friend></a><div class='sidebar-menu-icon icon rotate'>&#xe62b;</div><div class=sidebar-menu-link>Friend</div></div></div></div><div class=sidebar-btn-wrapper style=position:static><div class="sidebar-toc-btn current"></div><div class=sidebar-common-btn></div></div></div></div></aside></main><footer id=footer><div style=width:100%;overflow:hidden><div class=footer-line></div></div><div id=footer-info><div><span class=icon-copyright></span>
2020 -
2025
<span class="footer-info-sep rotate"></span>
Bertsin</div><div>Powered by&nbsp;<a href=https://gohugo.io/ target=_blank>Hugo</a>&nbsp; Theme.<a href=https://github.com/D-Sketon/hugo-theme-reimu target=_blank>Reimu</a></div><div><span class=icon-brush>&nbsp;
1.4k
</span>&nbsp;|&nbsp;
<span class=icon-coffee>&nbsp;
00:12</span></div><div><span class=icon-eye></span>
<span id=busuanzi_container_site_pv>Number of visits&nbsp;<span id=busuanzi_value_site_pv></span></span>
&nbsp;|&nbsp;
<span class=icon-user></span>
<span id=busuanzi_container_site_uv>Number of visitors&nbsp;<span id=busuanzi_value_site_uv></span></span></div></div></footer><div class=sidebar-top><div class="sidebar-top-taichi rotate"></div><div class=arrow-up></div></div><div id=mask class=hide></div></div><nav id=mobile-nav><div class=sidebar-wrap><div class=sidebar-toc-sidebar><div class=sidebar-toc><h3 class=toc-title>Contents</h3><div class="sidebar-toc-wrapper toc-div-class"><nav id=TableOfContents><ul><li><a href=#写在前面>写在前面</a></li><li><a href=#bitxor>BitXor</a></li><li><a href=#alloddbits>allOddBits</a></li><li><a href=#tmax>Tmax</a><ul><li><a href=#answer1>answer1</a></li><li><a href=#answer2>answer2</a></li></ul></li><li><a href=#ismax>isMax</a></li><li><a href=#tmin>Tmin</a></li><li><a href=#negate>negate</a></li><li><a href=#isasciidigit>isAsciiDigit</a></li><li><a href=#conditional>conditional</a></li><li><a href=#logicalneg>logicalNeg</a></li><li><a href=#floatscale2>Floatscale2</a></li><li><a href=#floatpower2>floatPower2</a></li><li><a href=#howmantbits>howMantBits</a></li></ul></nav></div></div></div><div class="sidebar-common-sidebar hidden"><div class=sidebar-author><img data-src=/avatar/avatar.webp data-sizes=auto alt=Bertsin class=lazyload><div class=sidebar-author-name>Bertsin</div><div class=sidebar-description>祈祷中...</div></div><div class=sidebar-state><div class=sidebar-state-article><div>Posts</div><div class=sidebar-state-number>7</div></div><div class=sidebar-state-category><div>Categories</div><div class=sidebar-state-number>0</div></div><div class=sidebar-state-tag><div>Tags</div><div class=sidebar-state-number>0</div></div></div><div class=sidebar-social><div class="icon-bilibili sidebar-social-icon"><a href="https://space.bilibili.com/651491932?spm_id_from=333.1007.0.0" itemprop=url target=_blank aria-label=bilibili rel="noopener external nofollow noreferrer"></a></div><div class="icon-email sidebar-social-icon"><a href=linboxi123@163.com itemprop=url target=_blank aria-label=email rel="noopener external nofollow noreferrer"></a></div><div class="icon-github sidebar-social-icon"><a href=https://github.com/user-xixiboliya itemprop=url target=_blank aria-label=github rel="noopener external nofollow noreferrer"></a></div><div class="icon-zhihu sidebar-social-icon"><a href=https://www.zhihu.com/people/lllll-19-64-21 itemprop=url target=_blank aria-label=zhihu rel="noopener external nofollow noreferrer"></a></div></div><div class=sidebar-menu><div class=sidebar-menu-link-wrap><a class=sidebar-menu-link-dummy href=/ aria-label=Home></a><div class='sidebar-menu-icon icon rotate'>&#xe62b;</div><div class=sidebar-menu-link>Home</div></div><div class=sidebar-menu-link-wrap><a class=sidebar-menu-link-dummy href=/archives aria-label=Archives></a><div class='sidebar-menu-icon icon rotate'>&#xe62b;</div><div class=sidebar-menu-link>Archives</div></div><div class=sidebar-menu-link-wrap><a class=sidebar-menu-link-dummy href=/about aria-label=About></a><div class='sidebar-menu-icon icon rotate'>&#xe62b;</div><div class=sidebar-menu-link>About</div></div><div class=sidebar-menu-link-wrap><a class=sidebar-menu-link-dummy href=/friend aria-label=Friend></a><div class='sidebar-menu-icon icon rotate'>&#xe62b;</div><div class=sidebar-menu-link>Friend</div></div></div></div></div><div class=sidebar-btn-wrapper><div class="sidebar-toc-btn current"></div><div class=sidebar-common-btn></div></div></nav></div><div class=site-search><div class="reimu-popup popup"><div class=reimu-search><div class=reimu-search-input-icon></div><div class=reimu-search-input id=reimu-search-input></div><div class=popup-btn-close></div></div><div class=reimu-results><div id=reimu-stats></div><div id=reimu-hits></div><div id=reimu-pagination class=reimu-pagination></div></div><img class=reimu-bg src=/images/reimu.png></div></div><script src=https://npm.webcache.cn/lazysizes@5.3.2/lazysizes.min.js integrity=sha384-3gT/vsepWkfz/ff7PpWNUeMzeWoH3cDhm/A8jM7ouoAK0/fP/9bcHHR5kHq2nf+e crossorigin=anonymous></script><script src=https://npm.webcache.cn/clipboard@2.0.11/dist/clipboard.min.js integrity=sha384-J08i8An/QeARD9ExYpvphB8BsyOj3Gh2TSh1aLINKO3L0cMSH2dN3E22zFoXEi0Q crossorigin=anonymous></script><script src=/js/main.js integrity crossorigin=anonymous></script><script src=/js/aos.js integrity crossorigin=anonymous></script><script>var aosInit=()=>{AOS.init({duration:1e3,easing:"ease",once:!0,offset:50})};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",aosInit):aosInit()</script><script src=/js/pjax_main.js integrity crossorigin=anonymous data-pjax></script><script>var ALGOLIA_CONFIG={logo:"/images/algolia_logo.svg",algolia:{applicationID:"E7TXX1S76T",apiKey:"f3def5697bab431015815d63d4289527",indexName:"algolia",hits:{per_page:parseInt("10")},labels:{input_placeholder:"搜索.....",hits_empty:"未发现与 「${query}」相关内容",hits_stats:"找到${hits}条结果（用时 ${time} ms）"}}}</script><script src=https://npm.webcache.cn/algoliasearch@4.17.1/dist/algoliasearch-lite.umd.js defer integrity=sha384-xvLS0jfKuoREs7pqkRI/OI8GcqohO5S+jQz7ZBtQXnsXmD+9jDOOY4cL6dCPzlrk crossorigin=anonymous></script><script src=https://npm.webcache.cn/instantsearch.js@4.56.1/dist/instantsearch.production.min.js defer integrity=sha384-hHJCflT4KBLQyHfKO9vpstIcFKn/Y+KHTORelMMEn7mOp2AVPp+7fr03dLgZiV3J crossorigin=anonymous></script><script src=/js/algolia_search.js integrity crossorigin=anonymous></script><script src=https://npm.webcache.cn/mouse-firework@0.0.6/dist/index.umd.js integrity=sha384-vkGvf25gm1C1PbcoD5dNfc137HzNL/hr1RKA5HniJOaawtvUmH5lTVFgFAruE9Ge crossorigin=anonymous></script><script>if(window.firework){const e=JSON.parse('{"excludeelements":["a","button"],"particles":[{"colors":["#ff5252","#ff7c7c","#ffafaf","#ffd0d0"],"duration":[1200,1800],"easing":"easeOutExpo","move":["emit"],"number":20,"shape":"circle","shapeOptions":{"alpha":[0.3,0.5],"radius":[16,32]}},{"colors":["#ff0000"],"duration":[1200,1800],"easing":"easeOutExpo","move":["diffuse"],"number":1,"shape":"circle","shapeOptions":{"alpha":[0.2,0.5],"lineWidth":6,"radius":20}}]}');e.excludeElements=e.excludeelements,delete e.excludeelements,window.firework(e)}</script><div id=lazy-script><div><script src=/js/insert_highlight.js integrity crossorigin=anonymous data-pjax></script><script type=module data-pjax>
        const PhotoSwipeLightbox = (await safeImport("https:\/\/npm.webcache.cn\/photoswipe@5.4.4\/dist\/photoswipe-lightbox.esm.min.js", "sha384-DiL6M\/gG\u002bwmTxmCRZyD1zee6lIhawn5TGvED0FOh7fXcN9B0aZ9dexSF\/N6lrZi\/")).default;

        const pswp = () => {
          if (_$$('.article-entry a.article-gallery-item').length > 0) {
            new PhotoSwipeLightbox({
              gallery: '.article-entry',
              children: 'a.article-gallery-item',
              pswpModule: () => safeImport("https:\/\/npm.webcache.cn\/photoswipe@5.4.4\/dist\/photoswipe.esm.min.js", "sha384-WkkO3GCmgkC3VQWpaV8DqhKJqpzpF9JoByxDmnV8\u002boTJ7m3DfYEWX1fu1scuS4\u002bs")
            }).init();
          }
          if(_$$('.article-gallery a.article-gallery-item').length > 0) {
            new PhotoSwipeLightbox({
              gallery: '.article-gallery',
              children: 'a.article-gallery-item',
              pswpModule: () => safeImport("https:\/\/npm.webcache.cn\/photoswipe@5.4.4\/dist\/photoswipe.esm.min.js", "sha384-WkkO3GCmgkC3VQWpaV8DqhKJqpzpF9JoByxDmnV8\u002boTJ7m3DfYEWX1fu1scuS4\u002bs")
            }).init();
          }
          window.lightboxStatus = 'done';
          window.removeEventListener('lightbox:ready', pswp);
        }
        if(window.lightboxStatus === 'ready') {
          pswp()
        } else {
          window.addEventListener('lightbox:ready', pswp);
        }
      </script></div></div><script src=https://npm.webcache.cn/busuanzi@2.3.0/bsz.pure.mini.js async integrity=sha384-0M75wtSkhjIInv4coYlaJU83+OypaRCIq2SukQVQX04eGTCBXJDuWAbJet56id+S crossorigin=anonymous></script><script>"serviceWorker"in navigator&&navigator.serviceWorker.getRegistrations().then(e=>{for(let t of e)t.unregister()})</script><script>const reimuCopyright=String.raw`
   ______     ______     __     __    __     __  __    
  /\  == \   /\  ___\   /\ \   /\ "-./  \   /\ \/\ \   
  \ \  __<   \ \  __\   \ \ \  \ \ \-./\ \  \ \ \_\ \  
   \ \_\ \_\  \ \_____\  \ \_\  \ \_\ \ \_\  \ \_____\ 
    \/_/ /_/   \/_____/   \/_/   \/_/  \/_/   \/_____/ 
                                                    
  `;console.log(String.raw`%c ${reimuCopyright}`,"color: #ff5252;"),console.log("%c Theme.Reimu %c https://github.com/D-Sketon/hugo-theme-reimu ","color: white; background: #ff5252; padding:5px 0;","padding:4px;border:1px solid #ff5252;")</script></body></html>